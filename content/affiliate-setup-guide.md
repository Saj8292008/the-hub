# Affiliate Setup Guide - The Hub

**Purpose:** Step-by-step instructions for setting up affiliate programs and integrating affiliate links into The Hub's deal posts.

---

## Overview

This guide covers:
1. Signing up for each affiliate program
2. Getting your affiliate credentials
3. Integrating affiliate links into The Hub
4. Tracking clicks and conversions
5. Best practices for maximizing commissions

---

## Affiliate Program #1: StockX

### Commission Rates
- **Sneakers/Streetwear/Collectibles:** 3% (new), 1% (returning)
- **Watches/Handbags:** 4% (new), 2% (returning)
- **Cookie Duration:** 15 days
- **Minimum Payout:** $50 via Impact platform

### Signup Process

1. **Go to Impact.com**
   - Visit: https://impact.com
   - Click "Sign Up" in the top right

2. **Create Impact Account**
   - Enter your email and create a password
   - Choose "Publisher" account type
   - Fill out basic business info:
     - Company name: "The Hub" (or your LLC/business name)
     - Website: yourhubdomain.com
     - Category: "Deals & Shopping" or "Fashion & Lifestyle"

3. **Search for StockX Program**
   - Once logged in, go to "Marketplace" ‚Üí "Search"
   - Search for "StockX"
   - Click on "StockX Holdings LLC" affiliate program
   - Click "Apply to Program"

4. **Application Review**
   - Fill out application form:
     - Describe your site: "Curated deal aggregator for watches and sneakers"
     - Traffic sources: "Organic search, social media, newsletter"
     - Monthly traffic: [Your actual numbers or estimates]
   - StockX typically approves within 1-3 business days

5. **Get Your Affiliate Links**
   - Once approved, log into Impact dashboard
   - Go to "Actions" ‚Üí "Links"
   - Generate tracking links for StockX
   - Your unique tracking ID will be embedded in the URL

### Link Format Examples

**Basic StockX Link:**
```
https://stockx.com/nike-dunk-low-panda
```

**StockX Affiliate Link (via Impact):**
```
https://stockx.irgr.com/XXX?irclickid=YOUR_CLICK_ID&irgwc=1&url=https%3A%2F%2Fstockx.com%2Fnike-dunk-low-panda
```

**Simplified (after setup):**
- Use Impact's link generator
- Or use Impact's JavaScript tracking tag for automatic conversion

### Integration Notes
- Use Impact's deep linking tool to create product-specific links
- Track performance in Impact dashboard
- Monthly payouts on the 20th of each month

---

## Affiliate Program #2: eBay Partner Network (EPN)

### Commission Rates
- **Variable by category** (typically 1-4%)
- Watches/Jewelry: ~2-4%
- Sneakers: ~1-3%
- **Cookie Duration:** 24 hours (short!)
- **Minimum Payout:** $10 via PayPal or direct deposit

### Signup Process

1. **Go to eBay Partner Network**
   - Visit: https://partnernetwork.ebay.com
   - Click blue "Sign Up" button (top right)

2. **Sign in with eBay Account**
   - Use existing eBay account (personal or business)
   - Or create new account during signup
   - Can link with Facebook/Google/Apple

3. **Fill Out Application**
   - **Personal Info:**
     - Name, address, phone
     - Tax info (W-9 for US, W-8 for international)
   
   - **Company Info:**
     - Business name: "The Hub"
     - Business type: LLC / Sole Proprietor / Individual
   
   - **Promotional Info:**
     - Website URL: yourhubdomain.com
     - How you'll promote eBay: "Curated deal listings, newsletter, social media"
     - Traffic sources: "Organic search, social media, email"
     - Expected monthly traffic: [Your estimates]

4. **Submit and Wait for Approval**
   - eBay reviews applications manually
   - Can take 1-5 business days
   - Check email for confirmation

5. **Get Your Affiliate Credentials**
   - Once approved, log into EPN dashboard: https://publisher.ebaypartnernetwork.com
   - Go to "Tools" ‚Üí "Link Generator"
   - Your Campaign ID will be displayed (save this!)

### Link Format Examples

**Basic eBay Link:**
```
https://www.ebay.com/itm/123456789012
```

**eBay Affiliate Link:**
```
https://rover.ebay.com/rover/1/711-53200-19255-0/1?icep_id=114&ipn=icep&toolid=20004&campid=YOUR_CAMPAIGN_ID&mpre=https%3A%2F%2Fwww.ebay.com%2Fitm%2F123456789012
```

**Using EPN Link Generator:**
1. Log into EPN dashboard
2. Go to "Tools" ‚Üí "Link Generator"
3. Paste eBay product URL
4. Select campaign (or use default)
5. Click "Generate Link"
6. Copy the rover.ebay.com link

### EPN Link Builder Parameters
- `campid`: Your unique campaign ID (get from dashboard)
- `customid`: Optional tracking parameter (e.g., deal ID, category)
- `toolid`: Use `20004` for standard links

**Example with Custom Tracking:**
```
https://rover.ebay.com/rover/1/711-53200-19255-0/1?campid=YOUR_CAMPAIGN_ID&customid=deal_12345&mpre=https%3A%2F%2Fwww.ebay.com%2Fitm%2F123456789012
```

### Integration Notes
- 24-hour cookie = urgency matters! Focus on hot deals.
- Use `customid` parameter to track which deals convert best
- Commission rates shown in dashboard after each sale
- EPN provides creative assets (banners, widgets) - use sparingly

---

## Affiliate Program #3: Amazon Associates

### Commission Rates
- **Watches:** 4%
- **Shoes/Accessories:** 4%
- **Sneaker Care Products:** 3-4%
- **Cookie Duration:** 24 hours
- **Minimum Payout:** $10 (direct deposit), $100 (check)

### Signup Process

1. **Go to Amazon Associates**
   - Visit: https://affiliate-program.amazon.com
   - Click "Sign Up" or "Join Now for Free"

2. **Sign in with Amazon Account**
   - Use existing Amazon customer account
   - Or create a new account

3. **Account Information**
   - Fill out contact info (name, address, phone)
   - Add your website(s):
     - Main site: yourhubdomain.com
     - Social media profiles (optional): Twitter, Instagram, etc.
   - Describe how you'll drive traffic:
     - "Curated watch and sneaker deals, blog posts, social media"
   - Select topics: Fashion, Sports, Accessories, etc.

4. **Profile Information**
   - Website type: "Niche content site" or "Comparison shopping"
   - How do you build links? "APIs, manual links"
   - How do you generate traffic? "SEO, social media, email"
   - How did you hear about us? "Search engine" or "Other"

5. **Payment & Tax Info**
   - Enter tax ID (SSN or EIN)
   - Set up payment method:
     - Direct deposit (recommended, $10 min)
     - Amazon gift card ($10 min)
     - Check ($100 min)

6. **Wait for Phone Verification**
   - Amazon will call the number you provided
   - Enter the PIN shown on screen when prompted
   - Instant verification

7. **Get Your Affiliate Links**
   - Log into Associates dashboard: https://affiliate-program.amazon.com
   - Your Tracking ID will be displayed (format: `yourtag-20`)
   - Use SiteStripe toolbar or Product Linking tools

### Link Format Examples

**Basic Amazon Link:**
```
https://www.amazon.com/dp/B08N5WRWNW
```

**Amazon Affiliate Link:**
```
https://www.amazon.com/dp/B08N5WRWNW?tag=yourtag-20
```

**With Additional Tracking:**
```
https://www.amazon.com/dp/B08N5WRWNW?tag=yourtag-20&linkCode=ogi&th=1&psc=1
```

**Using amzn.to Short Links:**
```
https://amzn.to/3aBcDeF?tag=yourtag-20
```

### Amazon Product Advertising API (Advanced)
- For automated deal scraping and link generation
- Requires separate API key application
- Use Product Advertising API 5.0
- More info: https://webservices.amazon.com/paapi5/documentation/

### Integration Notes
- Use your Tracking ID (`yourtag-20`) in all Amazon links
- SiteStripe browser extension makes link generation easy
- Amazon Associates reports show clicks, conversions, and earnings
- Be careful with Amazon's Operating Agreement (no price mentions in some contexts)

---

## Affiliate Program #4: GOAT ‚ùå

**Status:** GOAT does not currently offer a public affiliate program.

### Alternative Approaches
1. **Direct partnership:** Reach out to GOAT's business development team for potential partnership deals
2. **Use StockX instead:** Similar inventory, has affiliate program
3. **Wait for program launch:** Check quarterly for updates

**Contact for partnerships:**
- Email: partnerships@goat.com (unverified)
- Or use contact form on GOAT website

---

## Affiliate Program #5: Chrono24 ‚ùå

**Status:** Chrono24 does not offer a public affiliate program (seller fees only).

### Alternative Approaches
1. **Direct partnership:** Contact Chrono24 for media/publisher partnerships
2. **Use Amazon Associates** for watch accessories (straps, tools, cases)
3. **Explore other watch affiliate programs:**
   - Jomashop: 4-10% commission (CJ Affiliate network)
   - Ashford: 6% commission (CJ Affiliate)
   - Jura Watches: 2-5% commission, 14-day cookie

**Chrono24 Contact:**
- Visit: https://about.chrono24.com/en/partners
- Focus on dealer partnerships, not affiliate marketing

---

## Integrating Affiliate Links into The Hub

### Option 1: Manual Link Wrapper (Simple)

Use the `affiliate-links.js` script (see separate file) to wrap URLs:

```javascript
const { wrapAffiliateLink } = require('./scripts/affiliate-links.js');

// Original deal URL
const dealUrl = 'https://stockx.com/nike-dunk-low-panda';

// Wrap with affiliate tag
const affiliateUrl = await wrapAffiliateLink(dealUrl, {
  source: 'deal_post_12345',
  category: 'sneakers'
});

// Use affiliateUrl in your deal post
```

### Option 2: Database Integration (Recommended)

Store affiliate links in your Supabase deals table:

**Add columns to `deals` table:**
```sql
ALTER TABLE deals ADD COLUMN affiliate_url TEXT;
ALTER TABLE deals ADD COLUMN affiliate_network TEXT; -- 'stockx', 'ebay', 'amazon', 'direct'
ALTER TABLE deals ADD COLUMN tracking_id TEXT; -- custom tracking parameter
```

**When scraping deals, generate affiliate links:**
```javascript
// In your scraper
const deal = {
  title: "Nike Dunk Low Panda",
  price: 120,
  original_url: "https://stockx.com/nike-dunk-low-panda",
  platform: "stockx",
  // ... other fields
};

// Generate affiliate link
deal.affiliate_url = await wrapAffiliateLink(deal.original_url, {
  source: `scraper_${deal.platform}`,
  dealId: deal.id
});

deal.affiliate_network = 'impact'; // StockX uses Impact
deal.tracking_id = `deal_${deal.id}`;

// Save to database
await supabase.from('deals').insert(deal);
```

**In your frontend, always use `affiliate_url`:**
```jsx
<a href={deal.affiliate_url} target="_blank" rel="noopener">
  {deal.title} - ${deal.price}
</a>
```

### Option 3: Redirect Service (Advanced)

Create a redirect endpoint to handle click tracking:

**Example:**
```
https://yourhubdomain.com/go/12345
  ‚Üí Logs click to database
  ‚Üí Redirects to affiliate_url
```

**Benefits:**
- Track all outbound clicks in your database
- A/B test different affiliate networks
- Add fraud detection (bot filtering)
- Generate analytics reports

---

## Click Tracking Setup

### Track Clicks in Supabase

**Create `affiliate_clicks` table:**
```sql
CREATE TABLE affiliate_clicks (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  deal_id UUID REFERENCES deals(id),
  affiliate_url TEXT NOT NULL,
  affiliate_network TEXT, -- 'stockx', 'ebay', 'amazon'
  user_id UUID, -- if logged in
  ip_address TEXT,
  user_agent TEXT,
  referrer TEXT,
  clicked_at TIMESTAMP DEFAULT NOW()
);

CREATE INDEX idx_clicks_deal ON affiliate_clicks(deal_id);
CREATE INDEX idx_clicks_date ON affiliate_clicks(clicked_at);
```

**Log clicks when user clicks deal link:**
```javascript
// In your API endpoint
app.post('/api/track-click', async (req, res) => {
  const { dealId, affiliateUrl, affiliateNetwork } = req.body;
  
  await supabase.from('affiliate_clicks').insert({
    deal_id: dealId,
    affiliate_url: affiliateUrl,
    affiliate_network: affiliateNetwork,
    user_id: req.user?.id || null,
    ip_address: req.ip,
    user_agent: req.headers['user-agent'],
    referrer: req.headers['referer']
  });
  
  res.json({ success: true });
});
```

**Frontend tracking:**
```javascript
// Track click before redirect
async function handleDealClick(deal) {
  await fetch('/api/track-click', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({
      dealId: deal.id,
      affiliateUrl: deal.affiliate_url,
      affiliateNetwork: deal.affiliate_network
    })
  });
  
  // Redirect to affiliate link
  window.open(deal.affiliate_url, '_blank');
}
```

---

## Analytics & Reporting

### Key Metrics to Track

1. **Click-Through Rate (CTR)**
   ```sql
   SELECT 
     COUNT(DISTINCT ac.id) AS clicks,
     COUNT(DISTINCT d.id) AS deals_shown,
     (COUNT(DISTINCT ac.id)::float / COUNT(DISTINCT d.id)) * 100 AS ctr
   FROM deals d
   LEFT JOIN affiliate_clicks ac ON d.id = ac.deal_id
   WHERE d.created_at >= NOW() - INTERVAL '30 days';
   ```

2. **Clicks by Platform**
   ```sql
   SELECT 
     affiliate_network,
     COUNT(*) AS total_clicks
   FROM affiliate_clicks
   WHERE clicked_at >= NOW() - INTERVAL '30 days'
   GROUP BY affiliate_network
   ORDER BY total_clicks DESC;
   ```

3. **Top Performing Deals**
   ```sql
   SELECT 
     d.title,
     d.platform,
     COUNT(ac.id) AS clicks
   FROM deals d
   JOIN affiliate_clicks ac ON d.id = ac.deal_id
   WHERE ac.clicked_at >= NOW() - INTERVAL '30 days'
   GROUP BY d.id, d.title, d.platform
   ORDER BY clicks DESC
   LIMIT 20;
   ```

4. **Conversion Tracking**
   - StockX: Check Impact dashboard for conversions
   - eBay: Check EPN dashboard for conversions
   - Amazon: Check Associates dashboard for conversions
   - Match affiliate network reports to your click logs using `tracking_id`

---

## Best Practices

### 1. Disclosure & Compliance
- **Always disclose affiliate relationships:**
  ```
  "We may earn a commission when you click links and make a purchase."
  ```
- Place disclosure prominently on your site (footer, deal pages)
- Follow FTC guidelines: https://www.ftc.gov/business-guidance/resources/disclosures-101-social-media-influencers

### 2. Link Management
- Test all affiliate links before posting deals
- Use URL shorteners sparingly (some users distrust them)
- Always use HTTPS affiliate links
- Keep backup of original URLs in case affiliate program changes

### 3. Optimize for Conversions
- Link directly to product pages (deep links), not homepages
- Use compelling call-to-action: "Check Deal ‚Üí" not "Click Here"
- Show urgency: "Limited stock", "Deal ends soon"
- Mobile optimization (most users browse on mobile)

### 4. Avoid These Mistakes
- ‚ùå Don't cloak or hide affiliate links deceptively
- ‚ùå Don't spam affiliate links in unrelated content
- ‚ùå Don't post fake deals just to generate clicks
- ‚ùå Don't violate affiliate program terms (e.g., bidding on brand keywords in PPC)
- ‚ùå Don't use affiliate links in emails (most programs prohibit this)

### 5. Tax & Legal
- Track affiliate earnings for tax reporting (1099-MISC in US)
- Affiliate commissions count as business income
- Keep records of all payouts
- Consult a tax professional if earning significant income

---

## Troubleshooting

### Issue: Links not tracking properly
- **Check:** Are you using the correct affiliate ID/tag?
- **Check:** Is the URL properly formatted? (No extra spaces, properly encoded)
- **Check:** Did you wait long enough? (Some networks take 24-48h to show clicks)

### Issue: Low conversion rates
- **Optimize:** Use deep links to product pages
- **Optimize:** Only post verified, in-stock deals
- **Optimize:** Improve site load speed (faster = higher conversion)
- **A/B Test:** Try different link placements, CTAs

### Issue: Account suspended or rejected
- **Common reasons:** Low-quality traffic, TOS violations, fraudulent clicks
- **Fix:** Contact affiliate program support with details about your site
- **Prevention:** Follow TOS strictly, never click your own links, avoid bot traffic

---

## Next Steps

1. ‚úÖ Sign up for StockX affiliate program (via Impact)
2. ‚úÖ Sign up for eBay Partner Network
3. ‚úÖ Sign up for Amazon Associates
4. ‚úÖ Implement `affiliate-links.js` wrapper script
5. ‚úÖ Add click tracking to Supabase
6. üöß Test affiliate links on staging site
7. üöß Add affiliate disclosure to site footer
8. üöß Deploy to production and monitor conversions

---

**Questions or issues?** Check affiliate program documentation or reach out to their support teams.

**Update Log:**
- 2025-02-10: Initial setup guide created
